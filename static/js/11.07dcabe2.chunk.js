(this["webpackJsonpdx-app"]=this["webpackJsonpdx-app"]||[]).push([[11],{184:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var c=t(198);function r(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var t=[],c=!0,r=!1,s=void 0;try{for(var n,l=e[Symbol.iterator]();!(c=(n=l.next()).done)&&(t.push(n.value),!a||t.length!==a);c=!0);}catch(m){r=!0,s=m}finally{try{c||null==l.return||l.return()}finally{if(r)throw s}}return t}}(e,a)||Object(c.a)(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},185:function(e,a,t){"use strict";a.a=t.p+"static/media/user_img.f957c3a0.png"},198:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var c=t(199);function r(e,a){if(e){if("string"===typeof e)return Object(c.a)(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Object(c.a)(e,a):void 0}}},199:function(e,a,t){"use strict";function c(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,c=new Array(a);t<a;t++)c[t]=e[t];return c}t.d(a,"a",(function(){return c}))},202:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var c=t(16);function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);a&&(c=c.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,c)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){Object(c.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}},203:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var c=t(199);var r=t(198);function s(e){return function(e){if(Array.isArray(e))return Object(c.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},204:function(e,a,t){"use strict";t.p},630:function(e,a,t){"use strict";t.r(a);var c=t(202),r=t(184),s=t(0),n=t.n(s),l=(t(204),t(50)),m=t(25),i=t(185),o=function(e){var a=e.data,t=e.deleteDealer,c=e.blockDealer,r=e.unblockDealer;return n.a.createElement("div",{className:"mian-wrap-user w-100"},n.a.createElement("div",{className:"p-3"},n.a.createElement("div",{className:"d-flex flex-wrap align-items-center"},n.a.createElement("div",{className:"messager-avatar "},n.a.createElement("img",{className:"rounded-circle",src:a.image?a.image:i.a,width:"70px",height:"70px"})),n.a.createElement("div",{className:" pl-3"},n.a.createElement("h6",{className:"mb-0 text-cus-primary font-md-cus font-700"},a.fullName),n.a.createElement("span",{className:"mb-0",style:{fontSize:"14px"}},n.a.createElement(l.a,{className:"text-cus-success mr-1",icon:m.h}),a.address)),n.a.createElement("div",{className:"user-manage-btn ml-auto"},n.a.createElement("button",{className:"w-100 border-0 bg-cus-danger text-white d-flex align-items-center",type:"button",onClick:t}," ",n.a.createElement(l.a,{icon:m.p})," ",n.a.createElement("span",{className:"mx-auto"},"Delete User")),n.a.createElement("button",{className:"w-100 border-cus-danger mt-2 text-cus-danger d-flex align-items-center bg-none ",type:"button",onClick:function(){a.isBlocked?r():c()}},n.a.createElement("i",{className:"text-cus-danger round-border-style "},n.a.createElement(l.a,{icon:m.n})),n.a.createElement("span",{className:"mx-auto"},a.isBlocked?"Unblock User":"Block User"))))),n.a.createElement("div",{className:"row mx-0"},n.a.createElement("div",{className:"col-sm-12 mt-2"},n.a.createElement("div",{className:"user-info-bar bg-trans-primary d-flex flex-wrap p-2 align-items-center radius-6"},n.a.createElement("i",{className:"text-cus-primary mr-3"},n.a.createElement(l.a,{icon:m.g})),n.a.createElement("span",{className:"text-cus-primary"},a.address))),n.a.createElement("div",{className:"col-sm-6 mt-2"},n.a.createElement("div",{className:"user-info-bar bg-trans-primary d-flex flex-wrap p-2 align-items-center radius-6"},n.a.createElement("i",{className:"text-cus-primary mr-3"},n.a.createElement(l.a,{icon:m.i})),n.a.createElement("span",{className:"text-cus-primary"},a.phoneNumber))),n.a.createElement("div",{className:"col-sm-6 mt-2"},n.a.createElement("div",{className:"user-info-bar bg-trans-primary d-flex flex-wrap p-2 align-items-center radius-6"},n.a.createElement("i",{className:"text-cus-primary mr-3"},n.a.createElement(l.a,{icon:m.e})),n.a.createElement("span",{className:"text-cus-primary"},a.email)))))},u=function(e){e.data;return n.a.createElement("div",{className:"mian-wrap-user w-100"},n.a.createElement("div",{className:"row mx-0"},n.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 mt-3"},n.a.createElement("div",{className:"user-statics bg-white p-2"},n.a.createElement("h6",{className:"text-cus-primary mb-0"},"Total Earning"),n.a.createElement("div",{className:"d-flex flex-wrap align-items-center mt-2"},n.a.createElement("i",{className:"mr-3 text-cus-primary"},n.a.createElement(l.a,{icon:m.d})),n.a.createElement("span",{className:"font-700 text-cus-primary"},"$50,263")),n.a.createElement("div",{className:"d-flex mt-2 align-items-end"},n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"35px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"45px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"20px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"32px"}}),n.a.createElement("div",{className:"d-flex align-items-end ml-auto"},n.a.createElement("span",{className:"text-cus-success mr-2",style:{fontSize:"12px"}},"300%"),n.a.createElement("i",{className:"text-cus-success"},n.a.createElement(l.a,{icon:m.b})))))),n.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 mt-3"},n.a.createElement("div",{className:"user-statics bg-white p-2"},n.a.createElement("h6",{className:"text-cus-primary mb-0"},"Total DX's"),n.a.createElement("div",{className:"d-flex flex-wrap align-items-center mt-2"},n.a.createElement("i",{className:"mr-3 text-cus-primary"},n.a.createElement(l.a,{icon:m.a})),n.a.createElement("span",{className:"font-700 text-cus-primary"},"327")),n.a.createElement("div",{className:"d-flex mt-2 align-items-end"},n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"35px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"45px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"20px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"32px"}}),n.a.createElement("div",{className:"d-flex align-items-end ml-auto"},n.a.createElement("span",{className:"text-cus-success mr-2",style:{fontSize:"12px"}},"300%"),n.a.createElement("i",{className:"text-cus-success"},n.a.createElement(l.a,{icon:m.b})))))),n.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 mt-3"},n.a.createElement("div",{className:"user-statics bg-white p-2"},n.a.createElement("h6",{className:"text-cus-primary mb-0"},"Online Hours"),n.a.createElement("div",{className:"d-flex flex-wrap align-items-center mt-2"},n.a.createElement("i",{className:"mr-3 text-cus-primary"},n.a.createElement(l.a,{icon:m.d})),n.a.createElement("span",{className:"font-700 text-cus-primary"},"19,808")),n.a.createElement("div",{className:"d-flex mt-2 align-items-end"},n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"35px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"45px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"20px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"32px"}}),n.a.createElement("div",{className:"d-flex align-items-end ml-auto"},n.a.createElement("span",{className:"text-cus-success mr-2",style:{fontSize:"12px"}},"300%"),n.a.createElement("i",{className:"text-cus-success"},n.a.createElement(l.a,{icon:m.b})))))),n.a.createElement("div",{className:"col-sm-6 col-md-4 col-lg-3 mt-3"},n.a.createElement("div",{className:"user-statics bg-white p-2"},n.a.createElement("h6",{className:"text-cus-primary mb-0"},"Traveled Miles"),n.a.createElement("div",{className:"d-flex flex-wrap align-items-center mt-2"},n.a.createElement("i",{className:" mr-3 text-cus-primary"},n.a.createElement(l.a,{icon:m.d})),n.a.createElement("span",{className:"font-700 text-cus-primary"},"32,457")),n.a.createElement("div",{className:"d-flex mt-2 align-items-end"},n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"35px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"45px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"20px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"30px"}}),n.a.createElement("div",{className:"chart-bar",style:{height:"32px"}}),n.a.createElement("div",{className:"d-flex align-items-end ml-auto"},n.a.createElement("span",{className:"text-cus-success mr-2",style:{fontSize:"12px"}},"300%"),n.a.createElement("i",{className:"text-cus-success"},n.a.createElement(l.a,{icon:m.b}))))))))},d=t(203),p=t(49),f=t(196),h=t.n(f),E=t(64),b=function(e){var a=e.data,t=e.roomMessages,c=Object(s.useState)([]),i=Object(r.a)(c,2),o=i[0],u=i[1],f=Object(s.useState)(""),b=Object(r.a)(f,2),y=b[0],v=b[1],x=Object(s.useRef)(null),N=function(){x.current.scrollIntoView({behavior:"smooth"})};Object(s.useEffect)((function(){u(t),E.a.on("messages",(function(e){a&&e.room_id==a.dealer_id&&(u([].concat(Object(d.a)(o),[e])),N())}))}),[t]);return n.a.createElement("section",{className:"w-100 pb-5"},n.a.createElement("div",{className:"pl-mdnav-cus mx-0"},n.a.createElement("div",{className:"chat-header"},n.a.createElement("h3",{className:"text-cus-primary pt-4"},"Messaging")),n.a.createElement("div",{className:"chat-box mt-3 bg-white"},n.a.createElement("div",{className:"chat-body px-3",style:{height:"20rem",overflowY:"auto"}},o.map((function(e){return n.a.createElement("div",{className:"".concat("admin"===e.senderType?"text-right":"text-left"," mt-3")},n.a.createElement("div",{className:"".concat("admin"===e.senderType?"chat-design-right border-cus-primary  bg-cus-gredient":"chat-design-left border-cus-success bg-succ-gredient"," d-inline-flex flex-wrap")},n.a.createElement("p",{className:"mb-0"},e.text),n.a.createElement("span",{className:"".concat("admin"===e.senderType?"text-left text-cus-primary":"text-cus-success text-right","d-block w-100")},h()(e.createdAt).format("HH:mm"))))})),n.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(e){x.current=e}})),n.a.createElement("div",{className:"px-3 mt-5"},n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),y.trim()&&(v(""),p.a.admin.sendMessage({text:y,driverId:a.driver_id||void 0,dealerId:a.dealer_id||void 0}).then((function(e){var a=e.data.data;u([].concat(Object(d.a)(o),[a])),N()})).catch((function(e){e.response})).finally((function(){})))}},n.a.createElement("div",{className:"message-type-field p-3 position-relative"},n.a.createElement("input",{type:"text",className:"w-100",value:y,onChange:function(e){v(e.target.value)},placeholder:"Type Message"}),n.a.createElement("div",{className:"file-upload-btn position-absolute"},n.a.createElement("label",{className:"mb-0"},n.a.createElement("input",{type:"file",name:"",className:"d-none"}),n.a.createElement(l.a,{icon:m.j,className:"text-cus-primary"}))),n.a.createElement("div",{className:"smile-icons position-absolute text-cus-primary"},n.a.createElement(l.a,{icon:m.l}))))))))},y=t(5);a.default=Object(y.f)((function(e){var a=Object(s.useState)({}),t=Object(r.a)(a,2),l=t[0],m=t[1],i=Object(s.useState)([]),d=Object(r.a)(i,2),f=d[0],h=d[1],E=Object(s.useState)({}),y=Object(r.a)(E,2),v=y[0],x=y[1],N=Object(s.useState)(!0),g=Object(r.a)(N,2),O=g[0],w=g[1];Object(s.useEffect)((function(){S(),D(),j()}),[]);var j=function(){w(!0),p.a.admin.getRoomMessages({dealer_id:e.match.params.id}).then((function(e){var a=e.data.data.reverse();w(!1),h(a)})).catch((function(e){e.response})).finally((function(){w(!1)}))},S=function(){w(!0),p.a.admin.getDealerDetails(e.match.params.id).then((function(e){var a=e.data;w(!1),m(Object(c.a)(Object(c.a)({},a),{},{dealer_id:a.id}))})).catch((function(e){e.response})).finally((function(){w(!1)}))},D=function(){w(!0),p.a.admin.getDealerStats(e.match.params.id).then((function(e){var a=e.data;w(!1),x(a)})).catch((function(e){e.response})).finally((function(){w(!1)}))};return n.a.createElement("section",{className:"w-100"},n.a.createElement("div",{className:"row pl-mdnav-cus mx-0"},n.a.createElement("div",{class:"chat-header col-12"},n.a.createElement("h3",{class:"text-cus-primary pt-4"},"User Profile")),O?n.a.createElement("div",{class:"w-100 text-center py-4"},n.a.createElement("div",{class:"spinner-grow text-primary",role:"status"},n.a.createElement("span",{class:"sr-only"},"Loading..."))):n.a.createElement(n.a.Fragment,null,n.a.createElement(o,{data:l,deleteDealer:function(){w(!0),p.a.admin.deleteDealer(e.match.params.id).then((function(a){a.data;e.history.push("/")})).catch((function(e){e.response})).finally((function(){}))},blockDealer:function(){w(!0),p.a.admin.blockDealer(e.match.params.id).then((function(e){e.data;S()})).catch((function(e){e.response})).finally((function(){}))},unblockDealer:function(){w(!0),p.a.admin.unblockDealer(e.match.params.id).then((function(e){e.data;S()})).catch((function(e){e.response})).finally((function(){}))}}),n.a.createElement(u,{data:v}),n.a.createElement(b,{data:l,roomMessages:f}))))}))}}]);
//# sourceMappingURL=11.07dcabe2.chunk.js.map