(this["webpackJsonpdx-app"]=this["webpackJsonpdx-app"]||[]).push([[14],{184:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(198);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,c=!1,s=void 0;try{for(var r,l=e[Symbol.iterator]();!(n=(r=l.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(i){c=!0,s=i}finally{try{n||null==l.return||l.return()}finally{if(c)throw s}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},185:function(e,t,a){"use strict";t.a=a.p+"static/media/user_img.f957c3a0.png"},198:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(199);function c(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n.a)(e,t):void 0}}},199:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},252:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(15),r=a(5),l=a(203),i=a(202),o=a(184),m=a(205),u=a(206),d=a.n(u),b=a(49),f=a(282),p=a.n(f),v=a(33),E=a(631),g=a(620),h=a(621),x=a(622),N=a(624),y=a(623);var w=function(){var e=Object(v.b)().enqueueSnackbar,t=Object(n.useState)([{id:p.a.generate(),question:"",answer:"",saved:!1}]),a=Object(o.a)(t,2),s=a[0],r=a[1],u=Object(n.useState)(!1),f=Object(o.a)(u,2),w=f[0],O=f[1],j=Object(n.useState)(""),C=Object(o.a)(j,2),S=C[0],A=C[1],q=Object(n.useState)(!1),k=Object(o.a)(q,2),D=k[0],F=k[1];Object(n.useEffect)((function(){T()}),[]);var T=function(){b.a.admin.getFaqs().then((function(e){var t=[];e.data.forEach((function(e){return t.push(Object(i.a)(Object(i.a)({},e),{},{question:(new DOMParser).parseFromString(e.question,"text/html").documentElement.textContent,answer:(new DOMParser).parseFromString(e.answer,"text/html").documentElement.textContent,saved:!0}))})),r([].concat(t,Object(l.a)(s)))})).catch((function(e){e.response})).finally((function(){}))};onsubmit=function(t){t.question&&t.answer&&(console.log(t),t.saved?function(t){var a=t.id,n=t.question,c=t.answer;b.a.admin.updateFaq({id:a,question:n,answer:c}).then((function(t){t.data,e("FAQ Updated Successfully",{variant:"success"})})).catch((function(e){e.response})).finally((function(){}))}(t):function(t){var a=t.id,n=t.question,c=t.answer;b.a.admin.createFaq({question:n,answer:c}).then((function(t){var n=t.data,c=s.findIndex((function(e){return e.id===a})),o=Object(l.a)(s);o[c]=Object(i.a)(Object(i.a)({},n),{},{saved:!0}),r(o),e("FAQ Created Successfully",{variant:"success"})})).catch((function(e){e.response})).finally((function(){}))}(t))};var _=function(e){D||(O(!w),A(e))};return c.a.createElement("section",{className:" pb-5"},c.a.createElement("div",null,c.a.createElement("div",{className:"mt-3 mx-5 px-5 w-75 text-right"},c.a.createElement("button",{type:"button",onClick:function(){var e=Object(l.a)(s);e.push({id:p.a.generate(),question:"",answer:""}),r(e)},className:"border-cus-success mt-2 bottom-btn-style text-white font-700 bg-cus-success"},"Add")),s.map((function(e,t){return c.a.createElement("div",{className:"row pl-mdnav-cus mx-0",key:e.id},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{className:"mt-4 px-3 col-sm-9"},c.a.createElement("label",{for:"question",className:"text-cus-primary font-700"},"Question:"),c.a.createElement(m.CKEditor,{editor:d.a,data:e.question,onChange:function(e,a){var n=a.getData(),c=Object(l.a)(s);c[t]=Object(i.a)(Object(i.a)({},c[t]),{},{question:n}),r(c)}})),c.a.createElement("div",{className:"row w-100 mx-0 align-items-end"},c.a.createElement("div",{className:"mt-4 px-3 col-sm-9"},c.a.createElement("label",{for:"answer",className:"text-cus-primary font-700"},"Answer:"),c.a.createElement(m.CKEditor,{editor:d.a,data:e.answer,onChange:function(e,a){var n=a.getData(),c=Object(l.a)(s);c[t]=Object(i.a)(Object(i.a)({},c[t]),{},{answer:n}),r(c)}})),c.a.createElement("div",{className:"btn-group-cus px-3  col-sm-3 d-flex flex-column"},c.a.createElement("button",{type:"button",onClick:function(){var t=s.filter((function(t){return t.id!==e.id}));t.length&&!e.saved?r(t):e.saved&&_(e.id)},className:"border-cus-success mt-2 font-700 text-cus-success bg-none bottom-btn-style"},"Cancel"),c.a.createElement("button",{type:"button",onClick:function(){onsubmit(Object(i.a)({},e))},className:"border-cus-success mt-2 bottom-btn-style text-white font-700 bg-cus-success"},"Save")))))}))),c.a.createElement(E.a,{isOpen:w,toggle:_,className:"modal-dialog-centered"},c.a.createElement(g.a,{toggle:_},"Delete FAQ"),c.a.createElement(h.a,null,"Are You Sure You Want To Delete This FAQ?"),c.a.createElement(x.a,null,D?c.a.createElement(y.a,{color:"default",variant:"contained",className:"rounded-pill",disabled:!0},"Deleting... ",c.a.createElement(N.a,{size:"sm",color:"primary"})):c.a.createElement(y.a,{color:"primary",variant:"contained",className:"rounded-pill",disabled:D,onClick:function(){return t=S,F(!0),void b.a.admin.deleteFaq(t).then((function(a){a.data,e("FAQ Deleted Successfully",{variant:"success"}),F(!1),r(s.filter((function(e){return e.id!==t}))),_()})).catch((function(e){e.response})).finally((function(){F(!1)}));var t}},"Yes"),c.a.createElement(y.a,{variant:"contained",className:"rounded-pill",color:"default",onClick:_,disabled:D},"No"))))};var O=function(){var e=Object(v.b)().enqueueSnackbar,t=Object(n.useState)(""),a=Object(o.a)(t,2),s=a[0],r=a[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){b.a.admin.getTC().then((function(e){var t=e.data;r((new DOMParser).parseFromString(t,"text/html").documentElement.textContent)})).catch((function(e){e.response})).finally((function(){}))};return c.a.createElement("section",{className:" pb-5"},c.a.createElement("div",{className:"row pl-mdnav-cus mx-0"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{class:"chat-header col-12"},c.a.createElement("h3",{class:"text-cus-primary pt-4 px-3"},"Terms & Conditions"),c.a.createElement("div",{class:"mt-4 px-3"},c.a.createElement(m.CKEditor,{editor:d.a,data:s,onChange:function(e,t){var a=t.getData();r(a)}})),c.a.createElement("div",{class:"btn-group-cus px-3 text-right"},c.a.createElement("button",{type:"button",class:"border-cus-success mr-3 font-700 text-cus-success bg-none bottom-btn-style"},"Cancel"),c.a.createElement("button",{type:"button",class:"border-cus-success bottom-btn-style text-white font-700 bg-cus-success",onClick:function(){s?b.a.admin.updateTC(s).then((function(t){t.data,e("Terms Updated Successfully",{variant:"success"})})).catch((function(e){e.response})).finally((function(){})):e("Terms and Condition can not be empty!",{variant:"error"})}},"Save"))))))};var j=function(){var e=Object(v.b)().enqueueSnackbar,t=Object(n.useState)(""),a=Object(o.a)(t,2),s=a[0],r=a[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){b.a.admin.getAboutUs().then((function(e){var t=e.data;r((new DOMParser).parseFromString(t,"text/html").documentElement.textContent)})).catch((function(e){e.response})).finally((function(){}))};return c.a.createElement("section",{className:" pb-5"},c.a.createElement("div",{className:"row pl-mdnav-cus mx-0"},c.a.createElement("div",{className:"col-12"},c.a.createElement("div",{class:"chat-header col-12"},c.a.createElement("h3",{class:"text-cus-primary pt-4 px-3"},"About Us"),c.a.createElement("div",{class:"mt-4 px-3"},c.a.createElement(m.CKEditor,{editor:d.a,data:s,onChange:function(e,t){var a=t.getData();r(a)}})),c.a.createElement("div",{class:"btn-group-cus px-3 text-right"},c.a.createElement("button",{type:"button",class:"border-cus-success mr-3 font-700 text-cus-success bg-none bottom-btn-style"},"Cancel"),c.a.createElement("button",{type:"button",class:"border-cus-success bottom-btn-style text-white font-700 bg-cus-success",onClick:function(){s?b.a.admin.updateAboutUs(s).then((function(t){t.data,e("About Us Updated Successfully",{variant:"success"})})).catch((function(e){e.response})).finally((function(){})):e("About Us can not be empty!",{variant:"error"})}},"Save"))))))},C=a(185),S=a(50),A=a(25),q=a(196),k=a.n(q),D=a(64),F=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),m=Object(o.a)(r,2),u=m[0],d=m[1],f=Object(n.useState)(null),p=Object(o.a)(f,2),v=p[0],E=p[1],g=Object(n.useState)(""),h=Object(o.a)(g,2),x=h[0],N=h[1],y=Object(n.useRef)(null),w=function(){y.current.scrollIntoView({behavior:"smooth"})};Object(n.useEffect)((function(){O(),D.a.on("messages",(function(e){v&&e.room_id==v.id&&(d([].concat(Object(l.a)(u),[e])),w())}))}),[]);var O=function(){b.a.admin.getRooms().then((function(e){var t=e.data.data;s(t)})).catch((function(e){e.response})).finally((function(){}))};return c.a.createElement("section",{className:" pb-5"},c.a.createElement("div",{className:"row pl-mdnav-cus mx-0"},c.a.createElement("div",{className:"chat-header col-12"},c.a.createElement("h3",{className:"text-cus-primary pt-4"},"Messages")),c.a.createElement("div",{className:"col-md-5"},c.a.createElement("div",{className:"message-box"},c.a.createElement("div",{className:"custom-card mt-3 bg-white"},c.a.createElement("div",{className:"card-cus-header text-center bg-cus-primary text-white"},c.a.createElement("p",{className:"mb-0"},"Messages")),c.a.createElement("div",{style:{height:"30.5rem",overflowY:"auto",overflowX:"hidden"}},a.map((function(e){return c.a.createElement("div",{className:"users-messages border-bottom px-2 pt-2 pb-3 position-relative",onClick:function(){v&&v.id==e.id||(!function(e){E(null),d([]),b.a.admin.getRoomMessages(e).then((function(e){var t=e.data.data.reverse();d(t),w()})).catch((function(e){e.response})).finally((function(){}))}(e),E(e))}},c.a.createElement("div",{className:"d-flex flex-wrap  chat-user-box"},c.a.createElement("div",{className:"messager-avatar "},c.a.createElement("img",{className:"rounded-circle",src:e.driver?e.driver.image||C.a:e.dealer.image||C.a,width:"70px",height:"70px"})),c.a.createElement("div",{className:"messager-detail pl-3"},c.a.createElement("h6",{className:"mb-0 text-cus-primary"},e.driver?e.driver.fullName:e.dealer.fullName),c.a.createElement("span",{className:"mb-0 text-cus-primary messager-state"},e.driver?e.driver.address||"_":e.dealer.address||"_"),c.a.createElement("p",{className:"messager-last mb-0"},e.messages.length?e.messages[0].text:""))),c.a.createElement("p",{className:"message-time ml-auto d-contents w-100 mb-0 text-right"},e.messages.length?k()(e.messages[0].createdAt).format("DD-MM-YYYY"):""),c.a.createElement("div",{className:"user-mess-action"},c.a.createElement("button",{type:"button",className:"bg-transparent border-0 px-0"},c.a.createElement("span",{className:"bg-cus-danger rounded-circle action-btn mr-1"},c.a.createElement(S.a,{className:"fa fa-trash text-white",icon:A.o}))),c.a.createElement("button",{type:"button",className:"bg-transparent border-0 px-0"},c.a.createElement("span",{className:"border-cus-success rounded-circle action-btn"},c.a.createElement(S.a,{className:"text-cus-success",icon:A.c})))))})))))),c.a.createElement("div",{className:"col-md-7"},v?c.a.createElement("div",{className:"chat-box mt-3 bg-white"},c.a.createElement("div",{className:"card-cus-header py-3  bg-cus-primary text-white"},c.a.createElement("div",{className:"d-flex flex-wrap align-items-center"},c.a.createElement("div",{className:"messager-avatar "},c.a.createElement("img",{className:"rounded-circle",src:C.a,width:"70px",height:"70px"})),c.a.createElement("div",{className:" pl-3"},c.a.createElement("h6",{className:"mb-0 text-white font-md-cus font-700"},v.driver?v.driver.fullName:v.dealer.fullName),c.a.createElement("span",{className:"mb-0 text-white",style:{fontSize:"11px"}},c.a.createElement(S.a,{className:"text-cus-success mr-1",icon:A.h}),v.driver?v.driver.address||"_":v.dealer.address||"_")))),c.a.createElement("div",{className:"chat-body px-3",style:{height:"20rem",overflowY:"auto"}},u.map((function(e){return c.a.createElement("div",{className:"".concat("admin"===e.senderType?"text-right":"text-left"," mt-3")},c.a.createElement("div",{className:"".concat("admin"===e.senderType?"chat-design-right border-cus-primary  bg-cus-gredient":"chat-design-left border-cus-success bg-succ-gredient"," d-inline-flex flex-wrap")},c.a.createElement("p",{className:"mb-0"},e.text),c.a.createElement("span",{className:"".concat("admin"===e.senderType?"text-left text-cus-primary text-right":"text-cus-success text-left","d-block w-100")},k()(e.createdAt).format("HH:mm"))))})),c.a.createElement("div",{style:{float:"left",clear:"both"},ref:function(e){y.current=e}})),c.a.createElement("div",{className:"px-3 mt-3"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),x.trim()&&function(){N("");var e=Object(i.a)({},v);b.a.admin.sendMessage({text:x,driverId:e.driver_id||void 0,dealerId:e.dealer_id||void 0}).then((function(t){var a=t.data.data;e.id==v.id&&(w(),d([].concat(Object(l.a)(u),[a])))})).catch((function(e){e.response})).finally((function(){}))}()}},c.a.createElement("div",{className:"message-type-field p-3 position-relative"},c.a.createElement("input",{type:"text",className:"w-100",value:x,onChange:function(e){N(e.target.value)},placeholder:"Type Message"}),c.a.createElement("div",{className:"file-upload-btn position-absolute"},c.a.createElement("label",{className:"mb-0"},c.a.createElement("input",{type:"file",name:"",className:"d-none"}),c.a.createElement(S.a,{icon:A.j,className:"text-cus-primary"}))),c.a.createElement("div",{className:"smile-icons position-absolute text-cus-primary"},c.a.createElement(S.a,{icon:A.l})))))):null)))};t.default=function(){return c.a.createElement("div",{className:"site_main_wrap"},c.a.createElement(s.a,null,c.a.createElement("section",{className:"pt-66 pb-5"},c.a.createElement("div",{className:"row pl-mdnav-cus mx-0"},c.a.createElement("div",{className:"head-tabs w-100"},c.a.createElement("ul",{className:"list-unstyled mb-0 px-2 d-flex flex-wrap"},c.a.createElement("li",{className:"text-center ml-3"},c.a.createElement(s.b,{to:"/pages/terms_conditions",activeClassName:"active",className:"d-block py-3"},"Terms & Conditions")),c.a.createElement("li",{className:"text-center"},c.a.createElement(s.b,{to:"/pages/faq",activeClassName:"active",className:"d-block py-3"},"FAQ'S")),c.a.createElement("li",{className:"text-center"},c.a.createElement(s.b,{to:"/pages/about_us",activeClassName:"active",className:"d-block py-3"},"About Us")),c.a.createElement("li",{className:"text-center"},c.a.createElement(s.b,{to:"/pages/messages",activeClassName:"active",className:"d-block py-3"},"Messaging")))))),c.a.createElement(r.c,null,c.a.createElement(r.a,{path:"/pages/faq"},c.a.createElement(w,null)),c.a.createElement(r.a,{path:"/pages/Terms_conditions"},c.a.createElement(O,null)),c.a.createElement(r.a,{path:"/pages/about_us"},c.a.createElement(j,null)),c.a.createElement(r.a,{path:"/pages/messages"},c.a.createElement(F,null)))))}}}]);
//# sourceMappingURL=14.a97cfeac.chunk.js.map